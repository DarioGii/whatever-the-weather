(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(22)},22:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),c=a.n(o),l=a(3),i=a(4),s=a(6),m=a(5),u=a(1),d=a(7),h=a(2),p=a.n(h),y=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"getHoursForToday",value:function(e){for(var t=0;t<e.length;t++){if(0===new Date(1e3*e[t].time).getHours())return t}return-1}},{key:"render",value:function(){var e,t,a=this.props,o=a.onClick,c=a.onChange,l=a.onSubmit,i=a.place,s=a.weather,m={};if(m["clear-day"]={video:"https://whatever-the-weather.s3.eu-west-2.amazonaws.com/video/clear_day.mp4",icon:"CLEAR_DAY",credit:"Photo by Pixabay from Pexels"},m["clear-night"]={video:"https://whatever-the-weather.s3.eu-west-2.amazonaws.com/video/clear_night.mp4",icon:"CLEAR_NIGHT",credit:"Photo by Min An from Pexels"},m["partly-cloudy-day"]={video:"https://whatever-the-weather.s3.eu-west-2.amazonaws.com/video/cloudy_day.mp4",icon:"PARTLY_CLOUDY_DAY",credit:"Photo by Sindre Str\xf8m from Pexels"},m["partly-cloudy-night"]={video:"https://whatever-the-weather.s3.eu-west-2.amazonaws.com/video/cloudy_night.mp4",icon:"PARTLY_CLOUDY_NIGHT",credit:"Photo by Joonas k\xe4\xe4ri\xe4inen from Pexels"},m.cloudy={video:"https://whatever-the-weather.s3.eu-west-2.amazonaws.com/video/cloudy_day.mp4",icon:"CLOUDY",credit:"Photo by Pixabay from Pexels"},m.rain={video:"https://whatever-the-weather.s3.eu-west-2.amazonaws.com/video/rain.mp4",icon:"RAIN",credit:"Photo by Pixabay from Pexels"},m.sleet={video:"https://whatever-the-weather.s3.eu-west-2.amazonaws.com/video/sleet.mp4",icon:"SLEET",credit:"Photo by Ekrulila from Pexels"},m.snow={video:"https://whatever-the-weather.s3.eu-west-2.amazonaws.com/video/snow.mp4",icon:"SNOW",credit:"Photo by Pixabay from Pexels"},m.wind={video:"https://whatever-the-weather.s3.eu-west-2.amazonaws.com/video/wind.mp4",icon:"WIND",credit:"Photo by Simon Matzinger from Pexels"},m.fog={video:"https://whatever-the-weather.s3.eu-west-2.amazonaws.com/video/fog.mp4",icon:"FOG",credit:"Photo by Pixabay from Pexels"},s){var u=s.hourly,d=s.hourly.data.slice(0,this.getHoursForToday(s.hourly.data));t=i?i.results[0].address_components[0].long_name+", "+i.results[0].address_components[1].long_name:s.timezone,e=r.a.createElement(n.Fragment,null,r.a.createElement("video",{playsInline:!0,autoPlay:!0,muted:!0,loop:!0,width:"100%"},r.a.createElement("source",{src:m[s.currently.icon].video,type:"video/mp4"})),r.a.createElement("div",{className:"card-img-overlay"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-9"},r.a.createElement("h1",{className:"card-title display-1"},t)),r.a.createElement("div",{className:"col-lg-3"},r.a.createElement("div",{className:"input-group input-group-lg mb-3"},r.a.createElement("form",{onSubmit:l},r.a.createElement("div",{className:"input-group-append"},r.a.createElement("input",{type:"text",className:"form-control",onChange:c,placeholder:"Search"}),r.a.createElement("button",{className:"btn btn-dark",type:"button",id:"button-addon2",onClick:o},"Go")))))),r.a.createElement("h2",{className:"card-title display-2"},r.a.createElement(p.a,{size:74,icon:m[s.currently.icon].icon,animate:!0,color:"white"}),s.currently.temperature+"\u02daC"),r.a.createElement("h3",{className:"card-subtitle mb-2"},s.currently.summary),r.a.createElement("p",{className:"card-text"},"Feels like "+s.currently.apparentTemperature+"\u02daC"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"card bg-transparent text-center text-white",style:{border:"none"}},r.a.createElement("h2",{className:"card-title display-3"},"Today"),r.a.createElement("h1",{className:"card-title"},r.a.createElement(p.a,{icon:m[u.icon].icon,size:72,color:"white",animate:!0})),r.a.createElement("h6",{className:"card-subtitle display-4"},u.summary)),r.a.createElement("div",{className:"card-group text-center"},d.map(function(e,t){return r.a.createElement("div",{className:"card bg-secondary",key:t},r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text text-info h5"},new Date(1e3*d[t].time).toLocaleTimeString("en-GB",{hour:"numeric",minute:"numeric"})),r.a.createElement("p",{className:"card-title"},r.a.createElement(p.a,{icon:m[d[t].icon].icon,size:36,color:"white",animate:!0})),r.a.createElement("strong",{className:"card-text text-warning h5"},d[t].temperature+"\u02da")))})))))}else e=r.a.createElement("h1",{className:"text-black-50"},"Loading...");return r.a.createElement("div",{className:"card text-white",style:{border:"none"}},e)}}]),t}(n.Component),g=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=this.props.data,a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={};if(o["clear-day"]="CLEAR_DAY",o["clear-night"]="CLEAR_NIGHT",o["partly-cloudy-day"]="PARTLY_CLOUDY_DAY",o["partly-cloudy-night"]="PARTLY_CLOUDY_NIGHT",o.cloudy="CLOUDY",o.rain="RAIN",o.sleet="SLEET",o.snow="SNOW",o.wind="WIND",o.fog="FOG",t){var c=t.daily,l=t.daily.data.slice(1);e=r.a.createElement(n.Fragment,null,r.a.createElement("hr",null),r.a.createElement("div",{className:"card bg-secondary text-center text-white shadow-lg p-3 mb-5 rounded"},r.a.createElement("h3",{className:"card-title"},"7 days"),r.a.createElement("h1",{className:"card-title"},r.a.createElement(p.a,{size:66,icon:o[c.icon],color:"white",animate:!0})),r.a.createElement("h5",{className:"card-subtitle"},c.summary)),r.a.createElement("div",{className:"card-group"},l.map(function(e,t){return r.a.createElement("div",{className:"card border-light",key:t},r.a.createElement("div",{className:"card-body"},r.a.createElement("h3",{className:"card-title"},r.a.createElement(p.a,{size:40,icon:o[l[t].icon],animate:!0})," ",a[new Date(1e3*l[t].time).getDay()]),r.a.createElement("p",{className:"card-subtitle"},"High: "+l[t].temperatureHigh+"\u02da | Low: "+l[t].temperatureLow+"\u02da"),r.a.createElement("em",{className:"card-text"},l[t].summary)))})))}else e=null;return e}}]),t}(n.Component),v=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).onClick=function(e){e.preventDefault(),console.log(a.state.inputText),a.getDetailsForInput(a.state.inputText),a.setState({inputText:""})},a.onSubmit=function(e){e.preventDefault(),console.log(a.state.inputText),a.getDetailsForInput(a.state.inputText),a.setState({inputText:""}),e.target.reset()},a.onChange=function(e){a.setState({inputText:e.target.value})},a.state={place:null,weather:null,inputText:""},a.getCurrentWeatherData=a.getCurrentWeatherData.bind(Object(u.a)(a)),a.onSubmit=a.onSubmit.bind(Object(u.a)(a)),a.onChange=a.onChange.bind(Object(u.a)(a)),a.onClick=a.onClick.bind(Object(u.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"getCurrentGeolocation",value:function(){var e=navigator.geolocation;return e?e.getCurrentPosition(this.getCurrentWeatherData):"51.5074,0.1278"}},{key:"getCurrentWeatherData",value:function(e){var t=this;fetch("https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast/0ddc527bd121b8f2f16e3e83a11791a6/"+e.coords.latitude+","+e.coords.longitude+"?units=si&exclude=minutely,flags").then(function(e){return e.json()}).then(function(e){t.setState({weather:e})}).catch(console.log),this.getCurrentPlace(e)}},{key:"getCurrentPlace",value:function(e){var t=this;fetch("https://maps.googleapis.com/maps/api/geocode/json?latlng="+e.coords.latitude+","+e.coords.longitude+"&key=AIzaSyA_g_axntOBeFg_egmLNvwHFaSyjtXjSaA").then(function(e){return e.json()}).then(function(e){t.setState({place:e})}).catch(console.log)}},{key:"getDetailsForInput",value:function(e){var t=this;fetch("https://maps.googleapis.com/maps/api/geocode/json?address="+e+"&key=AIzaSyA_g_axntOBeFg_egmLNvwHFaSyjtXjSaA").then(function(e){return e.json()}).then(function(e){t.setState({place:e})}).catch(console.log),console.log("state.place:"+JSON.stringify(this.state.place)),this.getWeatherForInput()}},{key:"getWeatherForInput",value:function(){var e=this,t=this.state.place.results[0].geometry.location.lat,a=this.state.place.results[0].geometry.location.lng;fetch("https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast/0ddc527bd121b8f2f16e3e83a11791a6/"+t+","+a+"?units=si&exclude=minutely,flags").then(function(e){return e.json()}).then(function(t){e.setState({weather:t})}).catch(console.log)}},{key:"componentDidMount",value:function(){this.getCurrentGeolocation()}},{key:"render",value:function(){var e=this.state,t=e.place,a=e.weather;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement(y,{onClick:this.onClick,onChange:this.onChange,onSubmit:this.onSubmit,place:t,weather:a})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg"},r.a.createElement(g,{data:a}))))}}]),t}(n.Component);var w=function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement(v,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(21);c.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[10,1,2]]]);
//# sourceMappingURL=main.3abd0633.chunk.js.map